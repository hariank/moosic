function addTrack(a){var t='<iframe class="widget"> </iframe>';$("#music-queue").append(t);var n=$(".widget:last");n.addClass("z-depth-1"),n.addClass("animated fadeInUp");var i=n[0];i.width="100%",i.id=trackCount,i.src="https://w.soundcloud.com/player/?url="+a.url;var e=SC.Widget(i),r=!1;trackCount||(r=!0),e.load(a.url,{auto_play:r}),e.bind(SC.Widget.Events.FINISH,function(){trackCount>i.id&&SC.Widget($("#"+i.id).next()[0]).play(),removeTrack(a,n)}),trackCount++}function removeTrack(a,t){t.addClass("animated fadeOut"),t.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t.remove(),trackCount--})}function initQueue(){socket.on("track",function(a){addTrack(a)})}function initSearch(){SC.initialize({client_id:"270bd50d6557936bcc669766f307dd5f"}),$("form","#add-track").submit(function(a){a.preventDefault();var t=$("#track-input").val();return $("#track-input").val(""),void 0!==t&&t.length?(loadTrack(t),!1):!1})}function loadTrack(a){SC.get("/tracks",{q:a,limit:1},function(a){if(a.length){var t=a[0].permalink_url,n={url:t};socket.emit("track",n)}})}var trackCount=0,socket=io(),colorClasses=["card-panel green","card-panel amber","card-panel indigo"];initQueue(),initSearch();